<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>DSISAC - F√°brica de Software</title>
    <link rel="stylesheet" href="styles.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
</head>
<body>
    
    <header class="header">
        <div class="menu container">
            <a href="index.html" class="logo"><img src="img/logoBlanco.png" alt="DSISAC Logo"></a>
            
            <input type="checkbox" id="menu">
            <label for="menu" class="menu-label">
                <img src="img/menu.png" class="menu-icono" alt="men√∫">
            </label>
            
            <nav class="navbar">
                <ul>
                    <li><a href="index.html">Inicio</a></li>
                    <li><a href="nosotros.html">Nosotros</a></li>
                    
                    <li class="dropdown-item">
                        <a href="servicios.html" class="dropdown-trigger">Soluciones<i class="fas fa-chevron-down"></i></a>
                        <div class="mega-menu">
                            <div class="menu-tabs">
                                <span class="tab-link active" onclick="switchMenuTab(event, 'tab-productos')">PRODUCTOS</span>
                                <span class="tab-link" onclick="switchMenuTab(event, 'tab-servicios')">SERVICIOS</span>
                            </div>

                            <div id="tab-productos" class="menu-content active">
                                <ul>
                                    <li><a href="detalleERP.html">DSINet - ERP Core <i class="fas fa-chevron-right"></i></a></li>
                                    <li><a href="contabilidad.html">DSI - Contabilidad <i class="fas fa-chevron-right"></i></a></li>
                                    <li><a href="pedidos.html">DSI - Pedidos <i class="fas fa-chevron-right"></i></a></li>
                                    <li><a href="gerencial.html">DSI - Gerencial <i class="fas fa-chevron-right"></i></a></li>
                                    <li><a href="medida.html">Desarrollo de Software a Medida <i class="fas fa-chevron-right"></i></a></li>
                                </ul>
                            </div>

                            <div id="tab-servicios" class="menu-content">
                                <ul>
                                    <li><a href="soporteUsuario.html">Servicio de Soporte <i class="fas fa-chevron-right"></i></a></li>
                                    <li><a href="certificadosDigitales.html">Certificados Digitales <i class="fas fa-chevron-right"></i></a></li>
                                    <li><a href="nubefactOse.html">NubeFact - OSE <i class="fas fa-chevron-right"></i></a></li>
                                    <li><a href="servidorNube.html">Servidor en la Nube (VPS) <i class="fas fa-chevron-right"></i></a></li>
                                    <li><a href="modificacionSistema.html">Modificaci√≥n de Sistema <i class="fas fa-chevron-right"></i></a>
                                </ul>
                            </div>
                        </div>
                    </li>

                    <li><a href="soporte.html">Mesa de Ayuda</a></li>
                </ul>
            </nav>

            <a href="contacto.html" class="btn-header">Contactar &rarr;</a>
        </div>
        
        <div class="header-content container">
            <div class="social-proof hidden">
                <div class="avatars">
                    <img src="https://i.pravatar.cc/100?img=1" alt="">
                    <img src="https://i.pravatar.cc/100?img=2" alt="">
                    <img src="https://i.pravatar.cc/100?img=3" alt="">
                </div>
                <span>M√°s de 1000 personas conf√≠an en nosotros</span>
            </div>

            <div class="header-txt hidden delay-100">
                <h1>Software a medida <br> para una operaci√≥n m√°s <span>eficiente.</span></h1>
                <p>Somos una software factory especializada en sistemas empresariales, ERPs e integraciones cr√≠ticas.</p>
                <a href="contacto.html" class="btn-main hidden delay-200">Hablemos de tu sistema</a>
            </div>
        </div>
    </header>

    <section class="productos-section container">
        <div class="section-header hidden">
            <h2>Nuestros Productos</h2>
            <p>Desarrollamos soluciones, ERPs e integraciones cr√≠ticas para operaciones que exigen control, estabilidad y eficiencia.</p>
        </div>

        <article class="product-card">
            <div class="product-info hidden-left">
                <h3>DSINet - ERP Core</h3>
                <p>DSI-NET es un ERP modular y escalable para PYMES y empresas medianas que centraliza todos los procesos del negocio en una sola plataforma.</p>
                <a href="detalleERP.html" class="btn-product">Ver m√°s</a>
            </div>
            <div class="product-image hidden-right">
                <img src="https://images.unsplash.com/photo-1460925895917-afdab827c52f?auto=format&fit=crop&w=800&q=80" alt="ERP Core">
            </div>
        </article>

        <article class="product-card">
            <div class="product-info hidden-right">
                <h3>DSI - Contabilidad</h3>
                <p>M√≥dulo que transforma la operaci√≥n diaria en informaci√≥n contable confiable. Se integra autom√°ticamente con ventas, compras y almacenes.</p>
                <a href="contabilidad.html" class="btn-product">Ver m√°s</a>
            </div>
            <div class="product-image hidden-left">
                <img src="https://images.unsplash.com/photo-1554224155-6726b3ff858f?auto=format&fit=crop&w=800&q=80" alt="Contabilidad">
            </div>
        </article>

        <article class="product-card">
            <div class="product-info hidden-left">
                <h3>DSI - Pedidos</h3>
                <p>Aplicaci√≥n m√≥vil para el equipo comercial que permite registrar pedidos directamente desde el campo e integrarlos al ERP en tiempo real.</p>
                <a href="pedidos.html" class="btn-product">Ver m√°s</a>
            </div>
            <div class="product-image hidden-right">
                <img src="https://images.unsplash.com/photo-1556740758-90de374c12ad?auto=format&fit=crop&w=800&q=80" alt="Pedidos">
            </div>
        </article>
        
        <article class="product-card">
            <div class="product-info hidden-right">
                <h3>DSI - Gerencial</h3>
                <p>Dashboards ejecutivos e indicadores clave para la toma de decisiones. Brinda visi√≥n clara del estado real de la empresa.</p>
                <a href="gerencial.html" class="btn-product">Ver m√°s</a>
            </div>
            <div class="product-image hidden-left">
                <img src="https://images.unsplash.com/photo-1551288049-bebda4e38f71?auto=format&fit=crop&w=800&q=80" alt="Gerencial">
            </div>
        </article>
        
        <article class="product-card">
            <div class="product-info hidden-left">
                <h3>Desarrollo a Medida</h3>
                <p>Creamos software espec√≠fico adaptado a tu modelo de negocio. Integraciones, web apps y sistemas personalizados.</p>
                <a href="medida.html" class="btn-product">Ver m√°s</a>
            </div>
            <div class="product-image hidden-right">
                <img src="https://images.unsplash.com/photo-1573164713988-8665fc963095?auto=format&fit=crop&w=800&q=80" alt="Desarrollo Software">
            </div>
        </article>
    </section>

    <section class="sistema-conectado">
        <div class="container sistema-container">
            <div class="info-left hidden-left">
                <h2>Todo tu negocio, conectado en un solo sistema</h2>
                <p>DSISAC centraliza las √°reas clave de tu empresa en una sola plataforma, conectando almacenes, ventas, cobranzas, compras, gastos y estad√≠sticas.</p>
                <a href="detalleERP.html" class="btn-product">Ver m√≥dulos &rarr;</a>
            </div>
            <div class="image-right hidden-right">
                <img src="img/graficoModulos.png" alt="Gr√°fico de conexi√≥n">
            </div>
        </div>
    </section>

    <section class="about-cta">
        <div class="container">
            <div class="about-content hidden">
                <h2>Conoce un poco sobre nosotros</h2>
                <p>No vendemos software gen√©rico ni proyectos eternos.<br>Construimos sistemas que crecen con tu empresa.</p>
                <a href="nosotros.html" class="btn-cyan">Ver historias</a>
            </div>
        </div>
    </section>

    <section class="clientes-section">
        <div class="container">
            <h2 class="hidden">Clientes que respaldan nuestra experiencia</h2>
            <div class="slider hidden delay-100">
                <div class="slide-track">
                    <div class="slide"><img src="img/ferrer.png" alt="Ferrer"></div>
                    <div class="slide"><img src="img/grupoalaba.png" alt="Alabaj"></div>
                    <div class="slide"><img src="img/yangsu.png" alt="Yang Zu"></div>
                    <div class="slide"><img src="img/gdm.png" alt="GDM"></div>
                    <div class="slide"><img src="img/hongju.png" alt="Hongju"></div>
                    <div class="slide"><img src="img/ferrer.png" alt="Ferrer"></div>
                    <div class="slide"><img src="img/grupoalaba.png" alt="Alabaj"></div>
                    <div class="slide"><img src="img/yangsu.png" alt="Yang Zu"></div>
                    <div class="slide"><img src="img/gdm.png" alt="GDM"></div>
                    <div class="slide"><img src="img/hongju.png" alt="Hongju"></div>
                </div>
            </div>
        </div>
    </section>

    <section class="sectores-section">
        <div class="container">
            <div class="section-header hidden">
                <h2>¬øQu√© m√≥dulos necesita mi sector?</h2>
                <p>Descubre qu√© m√≥dulos necesita cada tipo de empresa para optimizar sus operaciones</p>
            </div>

            <div class="sectores-grid">
                <div class="sector-card hidden">
                    <div class="icon-circle"><img src="img/peque√±aEmpresa.svg" alt="Peque√±a Empresa"></div>
                    <h3>Peque√±a Empresa</h3>
                    <p>Ideal para negocios que est√°n empezando a ordenar su operaci√≥n.</p>
                    <a href="javascript:void(0);" class="btn-sector" onclick="openModal('modal-pequena')">Ver m√≥dulos</a>
                </div>
                <div class="sector-card hidden delay-100">
                    <div class="icon-circle"><img src="img/medianaEmpresa.svg" alt="Mediana Empresa"></div>
                    <h3>Mediana Empresa</h3>
                    <p>Para empresas en crecimiento que necesitan control y an√°lisis.</p>
                    <a href="javascript:void(0);" class="btn-sector" onclick="openModal('modal-mediana')">Ver m√≥dulos</a>
                </div>
                <div class="sector-card hidden delay-200">
                    <div class="icon-circle"><img src="img/distribuidora.svg" alt="Distribuidora"></div>
                    <h3>Distribuidora</h3>
                    <p>Pensado para empresas con alto volumen de ventas y operaci√≥n log√≠stica.</p>
                    <a href="javascript:void(0);" class="btn-sector" onclick="openModal('modal-distribuidora')">Ver m√≥dulos</a>
                </div>
                <div class="sector-card hidden delay-300">
                    <div class="icon-circle"><img src="img/importadora.svg" alt="Importadora"></div>
                    <h3>Importadora</h3>
                    <p>Para empresas con operaciones complejas y comercio exterior.</p>
                    <a href="javascript:void(0);" class="btn-sector" onclick="openModal('modal-importadora')">Ver m√≥dulos</a>
                </div>
            </div>
        </div>
    </section>

    <footer class="footer">
        <div class="container">
            <div class="footer-top">
                <div class="footer-left">
                    <a href="#" class="footer-logo"><img src="img/logoTextBlanco.png" alt="DSISAC Logo"></a>
                    <p class="footer-desc">Desde la estrategia hasta la ejecuci√≥n, creamos soluciones digitales que impulsan tu negocio</p>
                    <ul class="footer-nav">
                        <li><a href="index.html">Inicio</a></li>
                        <li><a href="nosotros.html">Nosotros</a></li>
                        <li><a href="servicios.html">Productos</a></li>
                        <li><a href="soporte.html">Mesa de Ayuda</a></li>
                    </ul>
                </div>
                <div class="footer-right">
                    <h3>Suscr√≠bete a nuestro bolet√≠n</h3>
                    <p>Las √∫ltimas noticias, art√≠culos y recursos, enviados a su bandeja de entrada semanalmente</p>
                    <form class="subscribe-form">
                        <input type="email" placeholder="Introduce tu correo electr√≥nico" required>
                        <button type="submit">Suscribirse</button>
                    </form>
                </div>
            </div>
            <div class="footer-bottom">
                <p>Copyright 2026 ¬© DSISAC</p>
                <div class="social-icons">
                    <a href="#"><i class="fab fa-facebook-f"></i></a>
                    <a href="#"><i class="fab fa-tiktok"></i></a>
                </div>
            </div>
        </div>
    </footer>

    <div class="chat-widget">
        <button id="chat-toggle" class="chat-toggle">
            <i class="fas fa-comment-dots"></i>
            <span class="chat-badge">1</span>
        </button>

        <div class="chat-window" id="chat-window">
            <div class="chat-header">
                <div class="header-info">
                    <img src="img/ISOTIPO.png" alt="Bot" onerror="this.src='https://cdn-icons-png.flaticon.com/512/4712/4712035.png'">
                    <div>
                        <h4>Asistente DSI</h4>
                        <span class="status">‚óè En l√≠nea</span>
                    </div>
                </div>
                <button id="chat-close" class="chat-close"><i class="fas fa-times"></i></button>
            </div>
            <div class="chat-body" id="chat-body">
                </div>
            <div class="chat-footer">
                <form id="chat-form" autocomplete="off">
                    <input type="text" id="chat-input" placeholder="Escribe tu consulta..." required>
                    <button type="submit"><i class="fas fa-paper-plane"></i></button>
                </form>
            </div>
        </div>
    </div>

    <div id="modal-pequena" class="modal-overlay">
        <div class="modal-box">
            <div class="modal-header">
                <div class="icon-circle modal-icon"><img src="img/peque√±aEmpresa.svg" alt=""></div>
                <div class="header-text"><h2>Peque√±a Empresa</h2><p>Orden y control desde el primer d√≠a.</p></div>
            </div>
            <div class="modal-body">
                <h3>M√≥dulos requeridos:</h3>
                <ul class="modal-list">
                    <li><i class="fas fa-check-circle"></i> Almacenes - Ingresos y salidas de mercader√≠a</li>
                    <li><i class="fas fa-check-circle"></i> Controla sus ventas, niveles stock</li>
                    <li><i class="fas fa-check-circle"></i> Cobranza - incluye todos los medios de pago</li>
                </ul>
            </div>
            <div class="modal-footer"><a href="contacto.html" class="btn-asesoria">Solicitar Asesor√≠a</a><button class="btn-cerrar" onclick="closeModal('modal-pequena')">Cerrar</button></div>
        </div>
    </div>

    <div id="modal-mediana" class="modal-overlay">
        <div class="modal-box">
            <div class="modal-header">
                <div class="icon-circle modal-icon"><img src="img/medianaEmpresa.svg" alt=""></div>
                <div class="header-text"><h2>Mediana Empresa</h2><p>Control y an√°lisis avanzado.</p></div>
            </div>
            <div class="modal-body">
                <h3>M√≥dulos Requeridos:</h3>
                <ul class="modal-list">
                    <li><i class="fas fa-check-circle"></i> Almacenes - Ingresos y salidas de mercader√≠a</li>
                    <li><i class="fas fa-check-circle"></i> Controla sus ventas, niveles stock</li>
                    <li><i class="fas fa-check-circle"></i> Cobranza - incluye todos los medios de pago</li>
                    <li><i class="fas fa-check-circle"></i> Tablas din√°micas para estad√≠sticas de ventas</li>
                    <li><i class="fas fa-check-circle"></i> Compras - registro de provisiones y saldos de almac√©n</li>
                    <li><i class="fas fa-check-circle"></i> Registro de gastos de la caja de cobranza</li>
                </ul>
            </div>
            <div class="modal-footer"><a href="contacto.html" class="btn-asesoria">Solicitar Asesor√≠a</a><button class="btn-cerrar" onclick="closeModal('modal-mediana')">Cerrar</button></div>
        </div>
    </div>

    <div id="modal-distribuidora" class="modal-overlay">
        <div class="modal-box wide-modal">
            <div class="modal-header">
                <div class="icon-circle modal-icon"><img src="img/distribuidora.svg" alt=""></div>
                <div class="header-text"><h2>Distribuidora</h2><p>Gesti√≥n log√≠stica y ventas en campo.</p></div>
            </div>
            <div class="modal-body">
                <h3>M√≥dulos Requeridos:</h3>
                <ul class="modal-list two-columns">
                    <li><i class="fas fa-check-circle"></i> Almacenes - Ingresos y salidas de mercader√≠a</li>
                    <li><i class="fas fa-check-circle"></i> Controla sus ventas, niveles stock</li>
                    <li><i class="fas fa-check-circle"></i> Cobranza - incluye todos los medios de pago</li>
                    <li><i class="fas fa-check-circle"></i> Tablas din√°micas para estad√≠sticas de ventas</li>
                    <li><i class="fas fa-check-circle"></i> Compras - registro de provisiones y saldos de almac√©n</li>
                    <li><i class="fas fa-check-circle"></i> Registro de gastos de la caja de cobranza</li>
                    <li><i class="fas fa-check-circle"></i> Facturaci√≥n de anticipo y de cierre de anticipo</li>
                    <li><i class="fas fa-check-circle"></i> Administraci√≥n de letras comerciales (cartera y bancos)</li>
                    <li><i class="fas fa-check-circle"></i> Pago a proveedores - naciones</li>
                    <li><i class="fas fa-check-circle"></i> Controlar la productividad de los vendedores (Rendiciones de cuentas)</li>
                    <li><i class="fas fa-check-circle"></i> Definir y controlar sus promociones, liquidaciones, merchandising y ofertas</li>
                    <li><i class="fas fa-check-circle"></i> Administrar un correcto despacho basado en un picking adecuado por ubicaciones</li>
                    <li><i class="fas fa-check-circle"></i> Administrar un correcto despacho basado en un packing</li>
                    <li><i class="fas fa-check-circle"></i> Administre sus despachos con su flota de veh√≠culos y choferes</li>
                    <li><i class="fas fa-check-circle"></i> Importaciones, transito de importaciones y valorizaciones</li>
                    <li><i class="fas fa-check-circle"></i> Gestion de Ventas</li>
                </ul>
            </div>
            <div class="modal-footer"><a href="contacto.html" class="btn-asesoria">Solicitar Asesor√≠a</a><button class="btn-cerrar" onclick="closeModal('modal-distribuidora')">Cerrar</button></div>
        </div>
    </div>

    <div id="modal-importadora" class="modal-overlay">
        <div class="modal-box wide-modal">
            <div class="modal-header">
                <div class="icon-circle modal-icon"><img src="img/importadora.svg" alt=""></div>
                <div class="header-text"><h2>Importadora</h2><p>Comercio exterior y gesti√≥n integral.</p></div>
            </div>
            <div class="modal-body">
                <h3>M√≥dulos Requeridos:</h3>
                <ul class="modal-list two-columns">
                    <li><i class="fas fa-check-circle"></i> Almacenes - Ingresos y salidas de mercader√≠a</li>
                    <li><i class="fas fa-check-circle"></i> Controla sus ventas, niveles stock</li>
                    <li><i class="fas fa-check-circle"></i> Cobranza - incluye todos los medios de pago</li>
                    <li><i class="fas fa-check-circle"></i> Tablas din√°micas para estad√≠sticas de ventas</li>
                    <li><i class="fas fa-check-circle"></i> Compras - registro de provisiones y saldos de almac√©n</li>
                    <li><i class="fas fa-check-circle"></i> Registro de gastos de la caja de cobranza</li>
                    <li><i class="fas fa-check-circle"></i> Facturaci√≥n de anticipo y de cierre de anticipo</li>
                    <li><i class="fas fa-check-circle"></i> Administraci√≥n de letras comerciales (cartera y bancos)</li>
                    <li><i class="fas fa-check-circle"></i> Pago a proveedores - naciones</li>
                    <li><i class="fas fa-check-circle"></i> Controlar la productividad de los vendedores (Rendiciones de cuentas)</li>
                    <li><i class="fas fa-check-circle"></i> Definir y controlar sus promociones, liquidaciones, merchandising y ofertas</li>
                    <li><i class="fas fa-check-circle"></i> Administrar un correcto despacho basado en un picking adecuado por ubicaciones</li>
                    <li><i class="fas fa-check-circle"></i> Administrar un correcto despacho basado en un packing</li>
                    <li><i class="fas fa-check-circle"></i> Administre sus despachos con su flota de veh√≠culos y choferes</li>
                    <li><i class="fas fa-check-circle"></i> Importaciones, transito de importaciones y valorizaciones</li>
                    <li><i class="fas fa-check-circle"></i> Gestion de Ventas</li>
                    <li><i class="fas fa-check-circle"></i> Gestion de Cobranzas</li>
                    <li><i class="fas fa-check-circle"></i> Gestion de Inventarios</li>
                    <li><i class="fas fa-check-circle"></i> Gestion de Devoluciones</li>
                </ul>
            </div>
            <div class="modal-footer"><a href="contacto.html" class="btn-asesoria">Solicitar Asesor√≠a</a><button class="btn-cerrar" onclick="closeModal('modal-importadora')">Cerrar</button></div>
        </div>
    </div>

    <script>
        document.addEventListener('DOMContentLoaded', () => {
            
            window.switchMenuTab = function(evt, tabId) {
                evt.preventDefault(); evt.stopPropagation();
                let tabs = document.querySelectorAll('.tab-link');
                let contents = document.querySelectorAll('.menu-content');
                tabs.forEach(tab => tab.classList.remove('active'));
                contents.forEach(content => content.classList.remove('active'));
                evt.target.classList.add('active');
                document.getElementById(tabId).classList.add('active');
            }

            window.openModal = function(modalId) {
                const allModals = document.querySelectorAll('.modal-overlay');
                allModals.forEach(m => m.style.display = 'none');
                const modal = document.getElementById(modalId);
                if(modal) { 
                    modal.style.display = 'flex'; 
                    document.body.style.overflow = 'hidden'; 
                }
            }
            window.closeModal = function(modalId) {
                const modal = document.getElementById(modalId);
                if(modal) { modal.style.display = 'none'; document.body.style.overflow = 'auto'; }
            }
            window.onclick = function(event) {
                if (event.target.classList.contains('modal-overlay')) {
                    event.target.style.display = 'none'; document.body.style.overflow = 'auto';
                }
            }

            const observer = new IntersectionObserver((entries) => {
                entries.forEach(entry => {
                    if (entry.isIntersecting) {
                        entry.target.classList.add('show');
                        observer.unobserve(entry.target);
                    }
                });
            }, { threshold: 0.1 });
            document.querySelectorAll('.hidden, .hidden-left, .hidden-right').forEach(el => observer.observe(el));


            const chatToggle = document.getElementById('chat-toggle');
            const chatWindow = document.getElementById('chat-window');
            const chatClose = document.getElementById('chat-close');
            const chatBody = document.getElementById('chat-body');
            const chatBadge = document.querySelector('.chat-badge');
            const chatForm = document.getElementById('chat-form');
            const chatInput = document.getElementById('chat-input');
            let isChatOpen = false;
            let hasStarted = false;

            const knowledgeBase = [
                { 
                    keywords: ["soporte", "ayuda", "ticket", "falla", "error", "tecnico", "no funciona", "problema", "lento"], 
                    response: "‚ö†Ô∏è Para soporte t√©cnico, por favor ingresa a nuestra Mesa de Ayuda o contacta al √°rea correspondiente:", 
                    linkText: "üî¥ Ir a Mesa de Ayuda", linkUrl: "soporte.html" 
                },

                {
                    keywords: ["demo", "demostracion", "prueba", "ver", "ense√±ame", "piloto", "reunion"],
                    response: "¬°Excelente idea! üöÄ La mejor forma de convencerte es viendo el sistema en acci√≥n. ¬øTe agendo una demo gratuita de 20 min?",
                    linkText: "üìÖ Agendar Demo por WhatsApp", action: "whatsapp_demo"
                },
                {
                    keywords: ["comprar", "contratar", "adquirir", "quiero", "interesado", "firma", "cliente, cotizar"],
                    response: "¬°Perfecto! üéâ Est√°s a un paso de optimizar tu empresa. Un asesor comercial priorizar√° tu solicitud ahora mismo.",
                    linkText: "üöÄ Hablar con Asesor de Ventas", action: "whatsapp_venta"
                },
                {
                    keywords: ["precio", "costo", "cotizar", "presupuesto", "cuanto vale", "tarifa", "inversion", "pago", "mensualidad"],
                    response: "Manejamos planes flexibles seg√∫n el tama√±o de tu empresa. üí∞ Para darte el precio exacto, necesito saber cu√°ntos usuarios y m√≥dulos requieres.",
                    linkText: "Solicitar Cotizaci√≥n Formal", action: "whatsapp_cotizacion"
                },

                {
                    keywords: ["peque√±a", "pequena", "pyme", "chica", "iniciando", "emprendimiento", "chico"],
                    response: "Para <strong>Peque√±a Empresa</strong>, el pack incluye: Almacenes, Ventas/Stock y Cobranza. ¬øTe gustar√≠a ver el detalle?",
                    linkText: "Ver m√≥dulos Pyme", action: "openModal", modalId: "modal-pequena"
                },
                {
                    keywords: ["mediana", "crecimiento", "creciendo", "control", "estadistica", "mediano"],
                    response: "Para <strong>Mediana Empresa</strong> sumamos: Compras, Gastos y Estad√≠sticas Gerenciales.",
                    linkText: "Ver m√≥dulos Mediana", action: "openModal", modalId: "modal-mediana"
                },
                {
                    keywords: ["distribuidora", "distribucion", "logistica", "flota", "reparto", "camiones"],
                    response: "Somos expertos en <strong>Distribuidoras</strong>. Incluye: Picking, Packing, Control de Flota y Vendedores en campo.",
                    linkText: "Ver m√≥dulos Distribuidora", action: "openModal", modalId: "modal-distribuidora"
                },
                {
                    keywords: ["importadora", "importacion", "aduana", "exterior", "dolar", "fob", "cif", "traer de china"],
                    response: "Para <strong>Importadoras</strong>, gestionamos el ciclo completo: Costeo, Letras, Multimoneda y Tr√°nsito.",
                    linkText: "Ver m√≥dulos Importadora", action: "openModal", modalId: "modal-importadora"
                },

                { 
                    keywords: ["erp", "sistema", "gestion", "core", "software", "administrativo"], 
                    response: "El <strong>DSINet ERP Core</strong> es el coraz√≥n de tu negocio. Centraliza ventas, log√≠stica y finanzas.", 
                    linkText: "Ver caracter√≠sticas ERP", linkUrl: "detalleERP.html" 
                },
                { 
                    keywords: ["ose", "facturacion", "sunat", "comprobante", "boleta", "factura", "xml", "nubefact"], 
                    response: "Con <strong>NubeFact OSE</strong> validas facturas en milisegundos, sin ca√≠das de SUNAT. Ideal para alto volumen.", 
                    linkText: "Ver Planes OSE", linkUrl: "nubefactOse.html" 
                },
                {
                    keywords: ["pedidos", "movil", "app", "celular", "calle", "preventa"],
                    response: "Aumenta tus ventas con <strong>DSI Pedidos</strong>. Tu equipo vende desde el celular y sincroniza con el ERP.",
                    linkText: "Ver App Pedidos", linkUrl: "pedidos.html"
                },

                { 
                    keywords: ["contacto", "ubicacion", "telefono", "direccion", "correo", "llamar", "donde estan"], 
                    response: "Estamos en Los Olivos, Lima. Ll√°manos al +51 940 769 186 o escr√≠benos a ventas@dsi-sac.com.", 
                    linkText: "Ir a P√°gina de Contacto", linkUrl: "contacto.html" 
                },
                {
                    keywords: ["sector", "rubro", "industria", "giro", "empresa"], 
                    response: "Nos especializamos en 4 sectores clave. ¬øCu√°l es el tuyo?",
                    options: true
                },
                { 
                    keywords: ["hola", "buenos", "buenas", "inicio", "saludos", "hi"], 
                    response: "¬°Hola! üëã Soy el asistente de ventas de DSISAC. ¬øTe gustar√≠a una **Demo** o ver nuestros **Sectores**?", 
                    options: true 
                }
            ];

            chatToggle.addEventListener('click', () => {
                isChatOpen = !isChatOpen;
                chatWindow.classList.toggle('active', isChatOpen);
                if (isChatOpen) {
                    chatBadge.style.display = 'none';
                    if (!hasStarted) { startConversation(); hasStarted = true; }
                    setTimeout(() => chatInput.focus(), 300);
                }
            });

            chatClose.addEventListener('click', () => {
                isChatOpen = false;
                chatWindow.classList.remove('active');
            });

            chatForm.addEventListener('submit', (e) => {
                e.preventDefault();
                const text = chatInput.value.trim();
                if (text) {
                    addMessage(text, 'user');
                    processUserInput(text);
                    chatInput.value = '';
                }
            });

            function addMessage(text, sender) {
                const div = document.createElement('div');
                div.classList.add('message', sender === 'bot' ? 'bot-msg' : 'user-msg');
                div.innerHTML = text;
                chatBody.appendChild(div);
                chatBody.scrollTop = chatBody.scrollHeight;
            }

            function addOptionsBtn(text, url, action, modalId) {
                const div = document.createElement('div');
                div.classList.add('options-container');
                const btn = document.createElement('button');
                btn.classList.add('chat-btn');
                btn.innerText = text;
                
                if (action === 'openModal') {
                    btn.onclick = () => {
                        window.openModal(modalId);
                        if(window.innerWidth < 768) { isChatOpen = false; chatWindow.classList.remove('active'); }
                    };
                } 
                else if (action === 'whatsapp') {
                    btn.onclick = () => window.open("https://wa.me/51940769186", "_blank");
                }
                else if (action === 'whatsapp_demo') {
                    btn.onclick = () => window.open("https://wa.me/51940769186?text=Hola,%20quisiera%20agendar%20una%20Demo%20del%20sistema.", "_blank");
                }
                else if (action === 'whatsapp_venta') {
                    btn.onclick = () => window.open("https://wa.me/51940769186?text=Hola,%20estoy%20interesado%20en%20contratar%20el%20sistema.", "_blank");
                }
                else if (action === 'whatsapp_cotizacion') {
                    btn.onclick = () => window.open("https://wa.me/51940769186?text=Hola,%20deseo%20una%20cotizaci%C3%B3n%20formal.", "_blank");
                }
                else {
                    btn.onclick = () => window.location.href = url;
                }
                
                div.appendChild(btn);
                chatBody.appendChild(div);
                chatBody.scrollTop = chatBody.scrollHeight;
            }

            function showMainMenu() {
                const div = document.createElement('div');
                div.classList.add('options-container');
                const options = [
                    { text: "üè≠ Ver Sectores", action: "scroll" },
                    { text: "üíª Software ERP", url: "detalleERP.html" },
                    { text: "üìÖ Solicitar Demo", action: "whatsapp_demo" }, // NUEVO
                    { text: "üôã‚Äç‚ôÇÔ∏è Hablar con Asesor", action: "whatsapp" }
                ];
                options.forEach(opt => {
                    const btn = document.createElement('button');
                    btn.classList.add('chat-btn');
                    btn.innerText = opt.text;
                    
                    if(opt.action === 'whatsapp') btn.onclick = () => window.open("https://wa.me/51940769186", "_blank");
                    else if(opt.action === 'whatsapp_demo') btn.onclick = () => window.open("https://wa.me/51940769186?text=Hola,%20quisiera%20agendar%20una%20Demo.", "_blank");
                    else if (opt.action === 'scroll') btn.onclick = () => {
                        const sec = document.querySelector('.sectores-section');
                        if(sec) { sec.scrollIntoView({ behavior: 'smooth' }); if(window.innerWidth<768) chatWindow.classList.remove('active'); }
                    };
                    else btn.onclick = () => window.location.href = opt.url;
                    
                    div.appendChild(btn);
                });
                chatBody.appendChild(div);
                chatBody.scrollTop = chatBody.scrollHeight;
            }

            function processUserInput(text) {
                const cleanText = text.toLowerCase().normalize("NFD").replace(/[\u0300-\u036f]/g, "").replace(/[?¬ø!¬°,.]/g, ""); 
                let matchFound = false;

                setTimeout(() => {
                    for (const item of knowledgeBase) {
                        if (item.keywords.some(keyword => cleanText.includes(keyword))) {
                            addMessage(item.response, 'bot');
                            if (item.linkText && (item.linkUrl || item.modalId || item.action)) { 
                                addOptionsBtn(item.linkText, item.linkUrl, item.action, item.modalId); 
                            }
                            if (item.options) { showMainMenu(); }
                            matchFound = true;
                            break; 
                        }
                    }
                    if (!matchFound) {
                        addMessage("ü§î No entend√≠ bien. ¬øBuscas 'Sectores', una 'Cotizaci√≥n' o 'Soporte'?", 'bot');
                        showMainMenu();
                    }
                }, 600);
            }

            function startConversation() {
                addMessage("¬°Hola! üëã Soy tu Asesor Comercial de <strong>DSISAC</strong>.", 'bot');
                setTimeout(() => {
                    addMessage("¬øEn qu√© puedo ayudarte? Escribe (ej: 'quiero una demo', 'cotizar erp') o elige una opci√≥n:", 'bot');
                    showMainMenu();
                }, 600);
            }
        });
    </script>
</body>
</html>