<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>DSI - NubeFact OSE</title>
    <link rel="stylesheet" href="nubefactOse.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
</head>
<body>
    
    <header class="header-transparent">
        <div class="menu container">
            <a href="index.html" class="logo"><img src="img/logoBlanco.png" alt="DSISAC Logo"></a>
            <input type="checkbox" id="menu">
            <label for="menu" class="menu-label"><img src="img/menu.png" class="menu-icono" alt="men√∫"></label>
            
            <nav class="navbar">
                <ul>
                    <li><a href="index.html">Inicio</a></li>
                    <li><a href="nosotros.html">Nosotros</a></li>
                    <li class="dropdown-item">
                        <a href="servicios.html" class="dropdown-trigger active-link">Soluciones <i class="fas fa-chevron-down"></i></a>
                        <div class="mega-menu">
                            <div class="menu-tabs">
                                <span class="tab-link active" onclick="switchMenuTab(event, 'tab-productos')">PRODUCTOS</span>
                                <span class="tab-link" onclick="switchMenuTab(event, 'tab-servicios')">SERVICIOS</span>
                            </div>
                            <div id="tab-productos" class="menu-content active">
                                <ul>
                                    <li><a href="detalleERP.html">DSINet - ERP Core <i class="fas fa-chevron-right"></i></a></li>
                                    <li><a href="contabilidad.html">DSI - Contabilidad <i class="fas fa-chevron-right"></i></a></li>
                                    <li><a href="pedidos.html">DSI - Pedidos <i class="fas fa-chevron-right"></i></a></li>
                                    <li><a href="gerencial.html">DSI - Gerencial <i class="fas fa-chevron-right"></i></a></li>
                                    <li><a href="medida.html">Desarrollo de Software a Medida <i class="fas fa-chevron-right"></i></a></li>
                                </ul>
                            </div>
                            <div id="tab-servicios" class="menu-content">
                                <ul>
                                    <li><a href="soporteUsuario.html">Servicio de Soporte <i class="fas fa-chevron-right"></i></a></li>
                                    <li><a href="certificadosDigitales.html">Certificados Digitales <i class="fas fa-chevron-right"></i></a></li>
                                    <li><a href="nubefactOse.html">NubeFact - OSE <i class="fas fa-chevron-right"></i></a></li>
                                    <li><a href="servidorNube.html">Servidor en la Nube (VPS) <i class="fas fa-chevron-right"></i></a></li>
                                    <li><a href="modificacionSistema.html">Modificaci√≥n de Sistema <i class="fas fa-chevron-right"></i></a></li>
                                </ul>
                            </div>
                        </div>
                    </li>
                    <li><a href="soporte.html">Mesa de Ayuda</a></li>
                </ul>
            </nav>
            <a href="contacto.html" class="btn-header">Contactar &rarr;</a>
        </div>
    </header>

    <section class="ose-hero-section">
        <div class="container hero-grid">
            <div class="hero-left-content hidden-left">
                <div class="outline-icon-box"><i class="fas fa-cloud-upload-alt"></i></div>
                <h1>NubeFact - OSE</h1>
                <p class="hero-subtitle">Factura sin interrupciones. Olv√≠date de que "se cay√≥ el sistema de SUNAT" y atiende a tus clientes al instante.</p>
            </div>
            <div class="hero-right-card hidden-right">
                <div class="card-content">
                    <h2>¬øQu√© es esto?</h2>
                    <div class="card-point">
                        <div class="point-icon"><i class="fas fa-check-double"></i></div>
                        <p>Es un servicio autorizado que recibe tus facturas y las aprueba mucho m√°s r√°pido que la web de SUNAT.</p>
                    </div>
                    <div class="card-separator"></div>
                    <div class="card-point">
                        <div class="point-icon"><i class="fas fa-bolt"></i></div>
                        <p>Sirve para que nunca dejes de vender, incluso si la p√°gina de SUNAT est√° lenta o en mantenimiento.</p>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <section class="info-modules-section">
        <div class="container">
            <div class="module-row hidden">
                <div class="module-text">
                    <h3>¬øPor qu√© lo necesitas?</h3>
                    <p>Para tener tranquilidad y velocidad en tu negocio.</p>
                    <ul class="module-list">
                        <li><i class="fas fa-check"></i> <span><strong>Siempre funciona:</strong> Tu facturaci√≥n no se detiene nunca.</span></li>
                        <li><i class="fas fa-check"></i> <span><strong>S√∫per r√°pido:</strong> Tus clientes reciben su comprobante en segundos.</span></li>
                        <li><i class="fas fa-check"></i> <span><strong>Seguro:</strong> Tus datos est√°n protegidos y respaldados.</span></li>
                        <li><i class="fas fa-check"></i> <span><strong>Soporte DSISAC:</strong> Si hay alg√∫n error con una factura, nosotros te ayudamos a corregirlo.</span></li>
                    </ul>
                </div>
                <div class="module-image">
                    <img src="img/necesidadOSE.png" alt="Facturaci√≥n R√°pida">
                </div>
            </div>

            <div class="three-column-wrapper hidden">
                <div class="section-header-center">
                    <h3>¬øEs para mi empresa?</h3>
                    <p>Si te identificas con alguno de estos casos, la respuesta es S√ç.</p>
                </div>
                <div class="three-column-grid">
                    <div class="info-card">
                        <div class="card-icon-large"><i class="fas fa-store"></i></div>
                        <h4>Tienes Tienda F√≠sica</h4>
                        <p>Si tienes clientes haciendo cola, no puedes esperar a que el sistema cargue. Necesitas velocidad.</p>
                    </div>
                    <div class="info-card">
                        <div class="card-icon-large"><i class="fas fa-industry"></i></div>
                        <h4>Vendes Mucho</h4>
                        <p>Si haces muchas facturas al d√≠a, necesitas un sistema que aguante el ritmo sin fallar.</p>
                    </div>
                    <div class="info-card">
                        <div class="card-icon-large"><i class="fas fa-file-contract"></i></div>
                        <h4>SUNAT te obliga</h4>
                        <p>Algunas empresas (Principales Contribuyentes) est√°n obligadas por ley a usar este sistema.</p>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <section class="quote-section">
        <div class="container">
            <div class="quote-content-wrapper hidden">
                <div class="quote-text-form">
                    <h2>Quiero facturar m√°s r√°pido</h2>
                    <p>Mejora la atenci√≥n a tus clientes hoy mismo. Solicita informaci√≥n.</p>
                    
                    <form id="contactForm" class="quote-form">
                        <input type="hidden" name="_subject" value="Nuevo Lead - NubeFact OSE">
                        <input type="hidden" name="_template" value="table">
                        <input type="hidden" name="_captcha" value="false">

                        <div class="form-grid-2">
                            <div class="form-group">
                                <label>Nombres y Apellidos</label>
                                <input type="text" name="Nombre" class="input-white" required>
                            </div>
                            <div class="form-group">
                                <label>Empresa / RUC</label>
                                <input type="text" name="Empresa" class="input-white" required>
                            </div>
                        </div>
                        <div class="form-grid-2">
                            <div class="form-group">
                                <label>Tel√©fono</label>
                                <input type="tel" name="Telefono" class="input-white" required>
                            </div>
                            <div class="form-group">
                                <label>Correo electr√≥nico</label>
                                <input type="email" name="Email" class="input-white" required>
                            </div>
                        </div>
                        <div class="form-group">
                            <label>¬øCu√°ntas facturas/boletas haces al mes aprox?</label>
                            <input type="text" name="Volumen" class="input-white" placeholder="Ej: 500 al mes">
                        </div>
                        <button type="submit" class="btn-quote" id="submitBtn">Solicitar Activaci√≥n &rarr;</button>
                    </form>
                </div>
            </div>
        </div>
    </section>

    <footer class="footer">
        <div class="container">
            <div class="footer-top">
                <div class="footer-left">
                    <a href="#" class="footer-logo"><img src="img/logoTextBlanco.png" alt="DSISAC Logo"></a>
                    <p class="footer-desc">Desde la estrategia hasta la ejecuci√≥n, creamos soluciones digitales que impulsan tu negocio</p>
                    <ul class="footer-nav">
                        <li><a href="index.html">Inicio</a></li>
                        <li><a href="nosotros.html">Nosotros</a></li>
                        <li><a href="servicios.html">Productos</a></li>
                        <li><a href="soporte.html">Mesa de Ayuda</a></li>
                    </ul>
                </div>
                <div class="footer-right">
                    <h3>Suscr√≠bete a nuestro bolet√≠n</h3>
                    <p>Las √∫ltimas noticias, art√≠culos y recursos, enviados a su bandeja de entrada semanalmente</p>
                    <form class="subscribe-form">
                        <input type="email" placeholder="Introduce tu correo electr√≥nico" required>
                        <button type="submit">Suscribirse</button>
                    </form>
                </div>
            </div>
            <div class="footer-bottom">
                <p>Copyright 2026 ¬© DSISAC</p>
                <div class="social-icons">
                    <a href="#"><i class="fab fa-facebook-f"></i></a>
                    <a href="#"><i class="fab fa-tiktok"></i></a>
                </div>
            </div>
        </div>
    </footer>

    <div id="formModal" class="modal-overlay">
        <div class="modal-content">
            <div class="modal-icon" id="modalIcon"></div>
            <h3 id="modalTitle">T√≠tulo</h3>
            <p id="modalMessage">Mensaje del modal</p>
            <button class="modal-btn" onclick="closeModal()">Aceptar</button>
        </div>
    </div>

    <div class="chat-widget">
        <button id="chat-toggle" class="chat-toggle">
            <i class="fas fa-comment-dots"></i>
            <span class="chat-badge">1</span>
        </button>

        <div class="chat-window" id="chat-window">
            <div class="chat-header">
                <div class="header-info">
                    <img src="img/ISOTIPO.png" alt="Bot" onerror="this.src='https://cdn-icons-png.flaticon.com/512/4712/4712035.png'">
                    <div>
                        <h4>Asistente DSI</h4>
                        <span class="status">‚óè En l√≠nea</span>
                    </div>
                </div>
                <button id="chat-close" class="chat-close"><i class="fas fa-times"></i></button>
            </div>
            <div class="chat-body" id="chat-body"></div>
            <div class="chat-footer">
                <form id="chat-form" autocomplete="off">
                    <input type="text" id="chat-input" placeholder="Escribe tu consulta..." required>
                    <button type="submit"><i class="fas fa-paper-plane"></i></button>
                </form>
            </div>
        </div>
    </div>

    <script>
        function switchMenuTab(evt, tabId) {
            evt.preventDefault(); evt.stopPropagation();
            let tabs = document.querySelectorAll('.tab-link');
            let contents = document.querySelectorAll('.menu-content');
            tabs.forEach(tab => tab.classList.remove('active'));
            contents.forEach(content => content.classList.remove('active'));
            evt.target.classList.add('active');
            document.getElementById(tabId).classList.add('active');
        }

        document.addEventListener('DOMContentLoaded', () => {
            const observerOptions = { root: null, rootMargin: '0px', threshold: 0.1 };
            const observer = new IntersectionObserver((entries, observer) => {
                entries.forEach(entry => {
                    if (entry.isIntersecting) {
                        entry.target.classList.add('show');
                        observer.unobserve(entry.target);
                    }
                });
            }, observerOptions);

            const hiddenElements = document.querySelectorAll('.hidden, .hidden-left, .hidden-right');
            hiddenElements.forEach((el) => observer.observe(el));
        });

        const form = document.getElementById('contactForm');
        const modal = document.getElementById('formModal');
        const modalIcon = document.getElementById('modalIcon');
        const modalTitle = document.getElementById('modalTitle');
        const modalMessage = document.getElementById('modalMessage');
        const submitBtn = document.getElementById('submitBtn');

        form.addEventListener('submit', function(e) {
            e.preventDefault();

            if (!form.checkValidity()) {
                showModal('error', 'Error al enviar', 'Por favor, complete todos los campos requeridos.');
                return;
            }

            const originalBtnText = submitBtn.innerHTML;
            submitBtn.innerHTML = 'Enviando... <i class="fas fa-spinner fa-spin"></i>';
            submitBtn.disabled = true;

            const formData = new FormData(form);

            fetch("https://formsubmit.co/ajax/ventas@dsi-sac.com", {
                method: "POST",
                body: formData
            })
            .then(response => response.json())
            .then(data => {
                showModal('success', '¬°Mensaje Enviado!', 'Gracias por su inter√©s. Nos pondremos en contacto pronto.');
                form.reset();
            })
            .catch(error => {
                console.error('Error:', error);
                showModal('error', 'Error de conexi√≥n', 'Hubo un problema al enviar la solicitud.');
            })
            .finally(() => {
                submitBtn.innerHTML = originalBtnText;
                submitBtn.disabled = false;
            });
        });

        function showModal(type, title, message) {
            modal.style.display = 'flex';
            modalTitle.textContent = title;
            modalMessage.textContent = message;

            if (type === 'success') {
                modalIcon.innerHTML = '<i class="fas fa-check-circle" style="color: #28a745;"></i>';
            } else {
                modalIcon.innerHTML = '<i class="fas fa-times-circle" style="color: #dc3545;"></i>';
            }
            setTimeout(() => { document.querySelector('.modal-content').classList.add('active'); }, 10);
        }

        function closeModal() {
            document.querySelector('.modal-content').classList.remove('active');
            setTimeout(() => { modal.style.display = 'none'; }, 300);
        }

        window.onclick = function(event) {
            if (event.target == modal) closeModal();
        }

        document.addEventListener('DOMContentLoaded', () => {
            const chatToggle = document.getElementById('chat-toggle');
            const chatWindow = document.getElementById('chat-window');
            const chatClose = document.getElementById('chat-close');
            const chatBody = document.getElementById('chat-body');
            const chatBadge = document.querySelector('.chat-badge');
            const chatForm = document.getElementById('chat-form');
            const chatInput = document.getElementById('chat-input');
            let isChatOpen = false;
            let hasStarted = false;

            const knowledgeBase = [
                { 
                    keywords: ["soporte", "ayuda", "ticket", "falla", "error", "tecnico", "no funciona", "problema"], 
                    response: "‚ö†Ô∏è Para soporte t√©cnico, por favor ingresa a nuestra Mesa de Ayuda.", 
                    linkText: "üî¥ Ir a Mesa de Ayuda", linkUrl: "soporte.html" 
                },
                {
                    keywords: ["demo", "demostracion", "prueba", "ver", "ense√±ame"],
                    response: "¬°Excelente! üöÄ ¬øTe agendo una demo para ver la velocidad del OSE?",
                    linkText: "üìÖ Agendar Demo por WhatsApp", action: "whatsapp_demo"
                },
                {
                    keywords: ["precio", "costo", "cotizar", "presupuesto", "tarifa", "volumen"],
                    response: "El precio depende del volumen de comprobantes. ¬øCu√°ntos emites al mes aprox?",
                    linkText: "Consultar Precio", action: "whatsapp_cotizacion"
                },
                {
                    keywords: ["comprar", "contratar", "adquirir", "quiero", "interesado"],
                    response: "¬°Perfecto! üéâ Un asesor comercial priorizar√° tu atenci√≥n.",
                    linkText: "üöÄ Hablar con Ventas", action: "whatsapp_venta"
                },
                {
                    keywords: ["sunat", "ose", "nubefact", "facturacion", "validez"], 
                    response: "El OSE NubeFact valida tus comprobantes al instante y los env√≠a a SUNAT. ¬øTe interesa?",
                    options: true
                },
                { 
                    keywords: ["hola", "buenos", "buenas", "inicio", "saludos"], 
                    response: "¬°Hola! üëã Soy tu Asesor de Facturaci√≥n Electr√≥nica. ¬øBuscas **Precios**, **Activar OSE** o **Soporte**?", 
                    options: true 
                },
                {
                    keywords: ["sector", "rubro", "empresa"], 
                    response: "Tenemos soluciones para diversos sectores. Puedes verlos en el inicio.",
                    linkText: "Ver Sectores", linkUrl: "index.html"
                }
            ];

            chatToggle.addEventListener('click', () => {
                isChatOpen = !isChatOpen;
                chatWindow.classList.toggle('active', isChatOpen);
                if (isChatOpen) {
                    chatBadge.style.display = 'none';
                    if (!hasStarted) { startConversation(); hasStarted = true; }
                    setTimeout(() => chatInput.focus(), 300);
                }
            });

            chatClose.addEventListener('click', () => {
                isChatOpen = false;
                chatWindow.classList.remove('active');
            });

            chatForm.addEventListener('submit', (e) => {
                e.preventDefault();
                const text = chatInput.value.trim();
                if (text) {
                    addMessage(text, 'user');
                    processUserInput(text);
                    chatInput.value = '';
                }
            });

            function addMessage(text, sender) {
                const div = document.createElement('div');
                div.classList.add('message', sender === 'bot' ? 'bot-msg' : 'user-msg');
                div.innerHTML = text;
                chatBody.appendChild(div);
                chatBody.scrollTop = chatBody.scrollHeight;
            }

            function addOptionsBtn(text, url, action, modalId) {
                const div = document.createElement('div');
                div.classList.add('options-container');
                const btn = document.createElement('button');
                btn.classList.add('chat-btn');
                btn.innerText = text;
                
                if (action === 'openModal') btn.onclick = () => window.location.href = "index.html"; 
                else if (action === 'whatsapp') btn.onclick = () => window.open("https://wa.me/51940769186", "_blank");
                else if (action === 'whatsapp_demo') btn.onclick = () => window.open("https://wa.me/51940769186?text=Hola,%20quisiera%20agendar%20una%20reuni%C3%B3n%20sobre%20OSE.", "_blank");
                else if (action === 'whatsapp_cotizacion') btn.onclick = () => window.open("https://wa.me/51940769186?text=Hola,%20deseo%20cotizar%20el%20servicio%20OSE.", "_blank");
                else if (action === 'whatsapp_venta') btn.onclick = () => window.open("https://wa.me/51940769186?text=Hola,%20quiero%20activar%20el%20OSE.", "_blank");
                else btn.onclick = () => window.location.href = url;
                
                div.appendChild(btn);
                chatBody.appendChild(div);
                chatBody.scrollTop = chatBody.scrollHeight;
            }

            function showMainMenu() {
                const div = document.createElement('div');
                div.classList.add('options-container');
                const options = [
                    { text: "‚òÅÔ∏è Activar OSE", action: "whatsapp_venta" },
                    { text: "üíª Ver Software ERP", url: "detalleERP.html" },
                    { text: "üìÖ Agendar Reuni√≥n", action: "whatsapp_demo" },
                    { text: "üôã‚Äç‚ôÇÔ∏è Hablar con Asesor", action: "whatsapp" }
                ];
                options.forEach(opt => {
                    const btn = document.createElement('button');
                    btn.classList.add('chat-btn');
                    btn.innerText = opt.text;
                    
                    if(opt.action === 'whatsapp') btn.onclick = () => window.open("https://wa.me/51940769186", "_blank");
                    else if(opt.action === 'whatsapp_demo') btn.onclick = () => window.open("https://wa.me/51940769186?text=Hola,%20quisiera%20agendar%20una%20reuni%C3%B3n%20sobre%20OSE.", "_blank");
                    else if(opt.action === 'whatsapp_venta') btn.onclick = () => window.open("https://wa.me/51940769186?text=Hola,%20quiero%20activar%20el%20OSE.", "_blank");
                    else btn.onclick = () => window.location.href = opt.url;
                    
                    div.appendChild(btn);
                });
                chatBody.appendChild(div);
                chatBody.scrollTop = chatBody.scrollHeight;
            }

            function processUserInput(text) {
                const cleanText = text.toLowerCase().normalize("NFD").replace(/[\u0300-\u036f]/g, "").replace(/[?¬ø!¬°,.]/g, ""); 
                let matchFound = false;

                setTimeout(() => {
                    for (const item of knowledgeBase) {
                        if (item.keywords.some(keyword => cleanText.includes(keyword))) {
                            addMessage(item.response, 'bot');
                            if (item.linkText && (item.linkUrl || item.modalId || item.action)) { 
                                addOptionsBtn(item.linkText, item.linkUrl, item.action, item.modalId); 
                            }
                            if (item.options) { showMainMenu(); }
                            matchFound = true;
                            break; 
                        }
                    }
                    if (!matchFound) {
                        addMessage("ü§î No estoy seguro. ¬øTe interesa **OSE/Facturaci√≥n**, **Cotizar** o **Soporte**?", 'bot');
                        showMainMenu();
                    }
                }, 600);
            }

            function startConversation() {
                addMessage("¬°Hola! üëã Soy tu Asesor de Facturaci√≥n Electr√≥nica.", 'bot');
                setTimeout(() => {
                    addMessage("¬øBuscas mejorar tu velocidad de facturaci√≥n? Escribe (ej: 'quiero OSE', 'cotizar') o elige una opci√≥n:", 'bot');
                    showMainMenu();
                }, 600);
            }
        });
    </script>
</body>
</html>