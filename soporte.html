<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Soporte y Mesa de Ayuda - DSISAC</title>
    <link rel="stylesheet" href="soporte.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
</head>
<body>
    
    <header class="header-transparent">
        <div class="menu container">
            
            <a href="index.html" class="logo"><img src="img/logoBlanco.png" alt="DSISAC Logo"></a>
            
            <input type="checkbox" id="menu">
            
            <label for="menu" class="menu-label">
                <img src="img/menu.png" class="menu-icono" alt="men√∫">
            </label>
            
            <nav class="navbar">
                <ul>
                    <li><a href="index.html">Inicio</a></li>
                    <li><a href="nosotros.html">Nosotros</a></li>
                    
                    <li class="dropdown-item">
                        <a href="servicios.html" class="dropdown-trigger">Soluciones <i class="fas fa-chevron-down"></i></a>
                        
                        <div class="mega-menu">
                            <div class="menu-tabs">
                                <span class="tab-link active" onclick="switchMenuTab(event, 'tab-productos')">PRODUCTOS</span>
                                <span class="tab-link" onclick="switchMenuTab(event, 'tab-servicios')">SERVICIOS</span>
                            </div>

                            <div id="tab-productos" class="menu-content active">
                                <ul>
                                    <li><a href="detalleERP.html">DSINet - ERP Core <i class="fas fa-chevron-right"></i></a></li>
                                    <li><a href="contabilidad.html">DSI - Contabilidad <i class="fas fa-chevron-right"></i></a></li>
                                    <li><a href="pedidos.html">DSI - Pedidos <i class="fas fa-chevron-right"></i></a></li>
                                    <li><a href="gerencial.html">DSI - Gerencial <i class="fas fa-chevron-right"></i></a></li>
                                    <li><a href="medida.html">Desarrollo de Software a Medida <i class="fas fa-chevron-right"></i></a></li>
                                </ul>
                            </div>

                            <div id="tab-servicios" class="menu-content">
                                <ul>
                                    <li><a href="soporteUsuario.html">Servicio de Soporte <i class="fas fa-chevron-right"></i></a></li>
                                    <li><a href="certificadosDigitales.html">Certificados Digitales <i class="fas fa-chevron-right"></i></a></li>
                                    <li><a href="nubefactOse.html">NubeFact - OSE <i class="fas fa-chevron-right"></i></a></li>
                                    <li><a href="servidorNube.html">Servidor en la Nube (VPS) <i class="fas fa-chevron-right"></i></a></li>
                                    <li><a href="modificacionSistema.html">Modificaci√≥n de Sistema <i class="fas fa-chevron-right"></i></a>
                                </ul>
                            </div>
                        </div>
                    </li>

                    <li><a href="soporte.html" class="active-link">Mesa de Ayuda</a></li>
                </ul>
            </nav>

            <a href="contacto.html" class="btn-header">Contactar &rarr;</a>
        </div>
    </header>

    <section class="support-hero">
        <div class="container hero-content hidden">
            <h1>Soporte que <br> realmente <span class="text-cyan">funciona</span></h1>
            <p>Sistema de tickets profesional con respuesta garantizada en menos de 15 minutos.</p>
            <a href="mailto:helpdesk@dsi-sac.com" class="btn-cyan-hero">Abrir Ticket Ahora &rarr;</a>
        </div>
    </section>

    <section class="stats-section">
        <div class="container stats-grid">
            <div class="stat-item hidden delay-100">
                <h2>&lt;15 min</h2>
                <p>Tiempo de Respuesta</p>
            </div>
            <div class="stat-item hidden delay-200">
                <h2>98%</h2>
                <p>Satisfacci√≥n</p>
            </div>
            <div class="stat-item hidden delay-300">
                <h2>99%</h2>
                <p>Continuidad Operativa</p>
            </div>
            <div class="stat-item hidden delay-400">
                <h2>100%</h2>
                <p>Enfoque Empresarial</p>
            </div>
        </div>
    </section>

    <section class="steps-section">
        <div class="container">
            <div class="section-header hidden">
                <h2>As√≠ funciona nuestro HelpDesk</h2>
                <p>Sin buzones desorganizados, solo un sistema que realmente resuelve.</p>
            </div>
            <div class="steps-grid">
                <div class="step-card card-blue hidden delay-100">
                    <div class="icon-circle"><i class="fas fa-paper-plane"></i><span class="step-number">1</span></div>
                    <h3>Env√≠a tu solicitud</h3>
                </div>
                <div class="step-card card-white hidden delay-200">
                    <div class="icon-circle"><i class="fas fa-boxes"></i><span class="step-number">2</span></div>
                    <h3>Recibimos y Clasificamos</h3>
                </div>
                <div class="step-card card-blue hidden delay-300">
                    <div class="icon-circle"><i class="fas fa-user-cog"></i><span class="step-number">3</span></div>
                    <h3>Asignamos Especialista</h3>
                </div>
                <div class="step-card card-white hidden delay-400">
                    <div class="icon-circle"><i class="fas fa-check-circle"></i><span class="step-number">4</span></div>
                    <h3>Resolvemos y notificamos</h3>
                </div>
            </div>
        </div>
    </section>

    <section class="features-section">
        <div class="container features-grid">
            <div class="feature-card hidden-left">
                <div class="feature-icon"><i class="fas fa-columns"></i></div>
                <h3>Sistema Profesional</h3>
                <ul class="check-list">
                    <li><i class="fas fa-check-square"></i> Plataforma Jira integrada</li>
                    <li><i class="fas fa-check-square"></i> Tickets con seguimiento en tiempo real</li>
                    <li><i class="fas fa-check-square"></i> Equipo t√©cnico especializado</li>
                </ul>
            </div>
            <div class="feature-card hidden-right">
                <div class="feature-icon"><i class="fas fa-stopwatch"></i></div>
                <h3>Respuesta R√°pida</h3>
                <ul class="check-list">
                    <li><i class="fas fa-check-square"></i> Menos de 15 minutos de respuesta</li>
                    <li><i class="fas fa-check-square"></i> Priorizaci√≥n por criticidad</li>
                    <li><i class="fas fa-check-square"></i> Actualizaciones constantes</li>
                </ul>
            </div>
        </div>
    </section>

    <section class="helpdesk-contact-section">
        <div class="container helpdesk-grid">
            <div class="helpdesk-image hidden-left">
                <img src="img/gestionComercial.png" alt="Atenci√≥n al cliente">
            </div>
            <div class="helpdesk-info hidden-right">
                <h2>HelpDesk</h2>
                <p class="subtitle">Su feedback es muy importante.</p>
                <p class="description">Esto nos permite anticiparnos a problemas futuros y optimizar el servicio.</p>
                <div class="contact-channels">
                    <div class="channel-item"><i class="far fa-comment-alt"></i><span>+51 942 635 004</span></div>
                    <div class="channel-item"><i class="far fa-envelope"></i><span>helpdesk@dsi-sac.com</span></div>
                </div>
                <div class="exclusive-note">
                    <strong>Canal exclusivo para clientes</strong>
                    <p>Este n√∫mero de soporte es de uso exclusivo para clientes activos. Solo se atender√°n solicitudes provenientes de contactos identificados.</p>
                </div>
            </div>
        </div>
    </section>

    <footer class="footer">
        <div class="container">
            <div class="footer-top">
                <div class="footer-left">
                    <a href="#" class="footer-logo">
                        <img src="img/logoTextBlanco.png" alt="DSISAC Logo">
                    </a>
                    <p class="footer-desc">Desde la estrategia hasta la ejecuci√≥n, creamos soluciones digitales que impulsan tu negocio</p>
                    <ul class="footer-nav">
                        <li><a href="index.html">Inicio</a></li>
                        <li><a href="nosotros.html">Nosotros</a></li>
                        <li><a href="servicios.html">Productos</a></li>
                        <li><a href="soporte.html">Mesa de Ayuda</a></li>
                    </ul>
                </div>
                <div class="footer-right">
                    <h3>Suscr√≠bete a nuestro bolet√≠n</h3>
                    <p>Las √∫ltimas noticias, art√≠culos y recursos, enviados a su bandeja de entrada semanalmente</p>
                    <form class="subscribe-form">
                        <input type="email" placeholder="Introduce tu correo electr√≥nico" required>
                        <button type="submit">Suscribirse</button>
                    </form>
                </div>
            </div>
            <div class="footer-bottom">
                <p>Copyright 2026 ¬© DSISAC</p>
                <div class="social-icons">
                    <a href="#"><i class="fab fa-facebook-f"></i></a>
                    <a href="#"><i class="fab fa-tiktok"></i></a>
                </div>
            </div>
        </div>
    </footer>

    <div class="chat-widget">
        <button id="chat-toggle" class="chat-toggle">
            <i class="fas fa-comment-dots"></i>
            <span class="chat-badge">1</span>
        </button>

        <div class="chat-window" id="chat-window">
            <div class="chat-header">
                <div class="header-info">
                    <img src="img/ISOTIPO.png" alt="Bot" onerror="this.src='https://cdn-icons-png.flaticon.com/512/4712/4712035.png'">
                    <div>
                        <h4>Mesa de Ayuda DSI</h4>
                        <span class="status">‚óè En l√≠nea</span>
                    </div>
                </div>
                <button id="chat-close" class="chat-close"><i class="fas fa-times"></i></button>
            </div>
            <div class="chat-body" id="chat-body"></div>
            <div class="chat-footer">
                <form id="chat-form" autocomplete="off">
                    <input type="text" id="chat-input" placeholder="Escribe tu consulta..." required>
                    <button type="submit"><i class="fas fa-paper-plane"></i></button>
                </form>
            </div>
        </div>
    </div>

    <script>
        function switchMenuTab(evt, tabId) {
            evt.preventDefault(); evt.stopPropagation();
            let tabs = document.querySelectorAll('.tab-link');
            let contents = document.querySelectorAll('.menu-content');
            tabs.forEach(tab => tab.classList.remove('active'));
            contents.forEach(content => content.classList.remove('active'));
            evt.target.classList.add('active');
            document.getElementById(tabId).classList.add('active');
        }

        document.addEventListener('DOMContentLoaded', () => {
            const observerOptions = { root: null, rootMargin: '0px', threshold: 0.1 };
            const observer = new IntersectionObserver((entries, observer) => {
                entries.forEach(entry => {
                    if (entry.isIntersecting) {
                        entry.target.classList.add('show');
                        observer.unobserve(entry.target);
                    }
                });
            }, observerOptions);

            const hiddenElements = document.querySelectorAll('.hidden, .hidden-left, .hidden-right');
            hiddenElements.forEach((el) => observer.observe(el));
        });

        document.addEventListener('DOMContentLoaded', () => {
            const chatToggle = document.getElementById('chat-toggle');
            const chatWindow = document.getElementById('chat-window');
            const chatClose = document.getElementById('chat-close');
            const chatBody = document.getElementById('chat-body');
            const chatBadge = document.querySelector('.chat-badge');
            const chatForm = document.getElementById('chat-form');
            const chatInput = document.getElementById('chat-input');
            let isChatOpen = false;
            let hasStarted = false;

            const knowledgeBase = [
                { 
                    keywords: ["ticket", "incidencia", "reportar", "problema", "falla", "error"], 
                    response: "‚ö†Ô∏è Para reportar una incidencia, por favor env√≠a un correo detallado a nuestra Mesa de Ayuda.", 
                    linkText: "‚úâÔ∏è Enviar Correo a HelpDesk", linkUrl: "mailto:helpdesk@dsi-sac.com" 
                },
                {
                    keywords: ["telefono", "celular", "llamar", "urgencia"],
                    response: "üìû El n√∫mero directo de soporte t√©cnico es +51 942 635 004.",
                    linkText: "Llamar a Soporte", action: "whatsapp_soporte"
                },
                {
                    keywords: ["remoto", "teamviewer", "anydesk", "acceso"],
                    response: "Para soporte remoto, aseg√∫rate de tener instalado AnyDesk o TeamViewer y comp√°rtenos tu ID.",
                    options: true
                },
                {
                    keywords: ["horario", "atencion", "hora"],
                    response: "Nuestro horario de atenci√≥n es de Lunes a Viernes de 8:30 AM a 6:00 PM y S√°bados de 9:00 AM a 1:00 PM.",
                },
                {
                    keywords: ["ventas", "cotizar", "precio", "comprar"],
                    response: "Si necesitas una cotizaci√≥n comercial, te derivar√© con el √°rea de Ventas.",
                    linkText: "Hablar con Ventas", action: "whatsapp_venta"
                },
                { 
                    keywords: ["hola", "buenos", "buenas", "inicio", "saludos"], 
                    response: "¬°Hola! üëã Soy el asistente de Soporte. ¬øDeseas abrir un **Ticket**, contactar al **T√©cnico** o ver **Horarios**?", 
                    options: true 
                }
            ];

            chatToggle.addEventListener('click', () => {
                isChatOpen = !isChatOpen;
                chatWindow.classList.toggle('active', isChatOpen);
                if (isChatOpen) {
                    chatBadge.style.display = 'none';
                    if (!hasStarted) { startConversation(); hasStarted = true; }
                    setTimeout(() => chatInput.focus(), 300);
                }
            });

            chatClose.addEventListener('click', () => {
                isChatOpen = false;
                chatWindow.classList.remove('active');
            });

            chatForm.addEventListener('submit', (e) => {
                e.preventDefault();
                const text = chatInput.value.trim();
                if (text) {
                    addMessage(text, 'user');
                    processUserInput(text);
                    chatInput.value = '';
                }
            });

            function addMessage(text, sender) {
                const div = document.createElement('div');
                div.classList.add('message', sender === 'bot' ? 'bot-msg' : 'user-msg');
                div.innerHTML = text;
                chatBody.appendChild(div);
                chatBody.scrollTop = chatBody.scrollHeight;
            }

            function addOptionsBtn(text, url, action, modalId) {
                const div = document.createElement('div');
                div.classList.add('options-container');
                const btn = document.createElement('button');
                btn.classList.add('chat-btn');
                btn.innerText = text;
                
                if (action === 'openModal') btn.onclick = () => window.location.href = "index.html"; 
                else if (action === 'whatsapp_soporte') btn.onclick = () => window.open("https://wa.me/51942635004", "_blank");
                else if (action === 'whatsapp_venta') btn.onclick = () => window.open("https://wa.me/51940769186", "_blank");
                else btn.onclick = () => window.location.href = url;
                
                div.appendChild(btn);
                chatBody.appendChild(div);
                chatBody.scrollTop = chatBody.scrollHeight;
            }

            function showMainMenu() {
                const div = document.createElement('div');
                div.classList.add('options-container');
                const options = [
                    { text: "üìû Contactar Soporte", action: "whatsapp_soporte" },
                    { text: "‚úâÔ∏è Enviar Correo", url: "mailto:helpdesk@dsi-sac.com" },
                    { text: "üïô Horarios Atenci√≥n", action: "whatsapp_soporte" }, // Placeholder action
                    { text: "üí∞ Consultas Ventas", action: "whatsapp_venta" }
                ];
                options.forEach(opt => {
                    const btn = document.createElement('button');
                    btn.classList.add('chat-btn');
                    btn.innerText = opt.text;
                    
                    if(opt.action === 'whatsapp_soporte') btn.onclick = () => window.open("https://wa.me/51942635004", "_blank");
                    else if(opt.action === 'whatsapp_venta') btn.onclick = () => window.open("https://wa.me/51940769186", "_blank");
                    else if(opt.text.includes("Horarios")) btn.onclick = () => addMessage("Lunes a Viernes: 8:30am - 6:00pm<br>S√°bados: 9:00am - 1:00pm", 'bot');
                    else btn.onclick = () => window.location.href = opt.url;
                    
                    div.appendChild(btn);
                });
                chatBody.appendChild(div);
                chatBody.scrollTop = chatBody.scrollHeight;
            }

            function processUserInput(text) {
                const cleanText = text.toLowerCase().normalize("NFD").replace(/[\u0300-\u036f]/g, "").replace(/[?¬ø!¬°,.]/g, ""); 
                let matchFound = false;

                setTimeout(() => {
                    for (const item of knowledgeBase) {
                        if (item.keywords.some(keyword => cleanText.includes(keyword))) {
                            addMessage(item.response, 'bot');
                            if (item.linkText && (item.linkUrl || item.modalId || item.action)) { 
                                addOptionsBtn(item.linkText, item.linkUrl, item.action, item.modalId); 
                            }
                            if (item.options) { showMainMenu(); }
                            matchFound = true;
                            break; 
                        }
                    }
                    if (!matchFound) {
                        addMessage("ü§î No estoy seguro. Soy el asistente de Soporte. ¬øDeseas **contactar al t√©cnico**?", 'bot');
                        showMainMenu();
                    }
                }, 600);
            }

            function startConversation() {
                addMessage("¬°Hola! üëã Bienvenido a la **Mesa de Ayuda**.", 'bot');
                setTimeout(() => {
                    addMessage("¬øTienes alg√∫n problema t√©cnico o consulta?", 'bot');
                    showMainMenu();
                }, 600);
            }
        });
    </script>
</body>
</html>